function togglePageRedirection(a){1==a.value?jQuery("#redirect-user-to-selection-label").fadeIn():jQuery("#redirect-user-to-selection-label").fadeOut()}function storeGlobalClicked(a){var b=a.parents("td").find("input").attr("name");jQuery(".clicked-input").val(b)}function populateDefaultValue(a){var b=jQuery(".clicked-input").val();jQuery(".clicked-input").val(""),tb_remove(),jQuery('input[name="'+b+'"]').val(a)}function toggle_nested_section(a){var b=jQuery(a).val();switch(b){case"image":jQuery(".submit-button-type-text").fadeOut("fast",function(){jQuery(".submit-button-type-image").fadeIn("fast")});break;case"text":jQuery(".submit-button-type-image").fadeOut("fast",function(){jQuery(".submit-button-type-text").fadeIn("fast")});break;default:case"1":"yikes-easy-mc-form-schedule"==jQuery(a).attr("name")?jQuery(".date-restirction-section").fadeToggle():jQuery(".login-restirction-section").fadeToggle()}return!1}function initialize_form_schedule_time_pickers(){jQuery(".date-picker").datepicker({numberOfMonths:1,showButtonPanel:!0,closeText:object.closeText,currentText:object.currentText,monthNames:object.monthNames,monthNamesShort:object.monthNamesShort,dayNames:object.dayNames,dayNamesShort:object.dayNamesShort,dayNamesMin:object.dayNamesMin,dateFormat:object.dateFormat,firstDay:object.firstDay,isRTL:object.isRTL,onSelect:function(a,b){var c=b.lastVal,d=b.id;yikes_check_valid_date(a,c,d)}}),jQuery(".time-picker").timepicker({scrollDefault:"now",timeFormat:"h:i A"}),jQuery(".time-picker").on("changeTime",function(){var a=jQuery(this).attr("id"),b=jQuery("#yikes-easy-mc-form-restriction-start-date").val(),c=jQuery("#yikes-easy-mc-form-restriction-end-date").val();yikes_check_valid_date(b,c,a)})}function yikes_check_valid_date(a,b,c){var d=jQuery("#yikes-easy-mc-form-restriction-start-date").val(),e=jQuery("#yikes-easy-mc-form-restriction-end-date").val(),f=yikes_12_to_24_hour_time_conversion(jQuery("#yikes-easy-mc-form-restriction-start-time").val()),g=yikes_12_to_24_hour_time_conversion(jQuery("#yikes-easy-mc-form-restriction-end-time").val()),h=new Date(d+" "+f),i=new Date(e+" "+g);if(h>i){if(("yikes-easy-mc-form-restriction-start-date"==c||"yikes-easy-mc-form-restriction-end-date"==c)&&jQuery("#"+c).val(b),jQuery(".date-restirction-section").find("p.description.error").length)return;jQuery(".date-restirction-section").first().find("p.description").after('<p class="description error">'+object.start_date_exceeds_end_date_error+"</p>")}else jQuery(".date-restirction-section").find("p.description.error").remove()}function yikes_12_to_24_hour_time_conversion(a){var b=Number(a.match(/^(\d+)/)[1]),c=Number(a.match(/:(\d+)/)[1]),d=a.match(/\s(.*)$/)[1];"PM"==d&&12>b&&(b+=12),"AM"==d&&12==b&&(b-=12);var e=b.toString(),f=c.toString();return 10>b&&(e="0"+e),10>c&&(f="0"+f),e+":"+f}!function(a){"use strict";a(document).ready(function(){a("body").find("#form-builder-container").sortable({items:".draggable:not(.non-draggable-yikes)",axis:"y",placeholder:"form-builder-placeholder",update:function(){var a=1;jQuery("#form-builder-container").find(".draggable").each(function(){jQuery(this).find(".position-input").val(a),a++})}}),a("body").on("click",".remove-field",function(){var b=jQuery(this).attr("alt"),c=jQuery(this);return a(this).parents(".yikes-mc-settings-expansion-section").prev().find(".dashicons").toggleClass("dashicons-minus"),a(this).parents(".yikes-mc-settings-expansion-section").slideToggle(450,function(){c.parents(".draggable").find(".expansion-section-title").css("background","rgb(255, 134, 134)"),c.parents(".draggable").fadeOut("slow",function(){jQuery("#available-fields").find('li[alt="'+b+'"]').removeClass("not-available"),jQuery("#available-interest-groups").find('li[alt="'+b+'"]').removeClass("not-available"),jQuery(this).remove(),a("#form-builder-container").find(".draggable").length<1&&(a(".clear-form-fields").hide(),a(".clear-form-fields").next().hide(),a("#form-builder-container").html('<h4 class="no-fields-assigned-notice non-draggable-yikes"><em>'+object.no_fields_assigned+"</em></h4>"))})}),!1}),a("body").on("click",".hide-field",function(){return a(this).parents(".yikes-mc-settings-expansion-section").prev().find(".dashicons").toggleClass("dashicons-minus"),a(this).parents(".yikes-mc-settings-expansion-section").slideToggle(450),!1}),a("body").on("click",".add-field-to-editor",function(){var b=a("#form-builder-container").find(".draggable").length,c=a(".field-to-add-to-form").attr("alt");a("#available-fields").children("li").removeClass("available-form-field");var d=a(this);d.attr("disabled","disabled").attr("onclick","return false;").removeClass("add-field-to-editor");var e={action:"add_field_to_form",field_name:a(".field-to-add-to-form").attr("data-attr-field-name"),merge_tag:c,field_type:a(".field-to-add-to-form").attr("data-attr-field-type"),list_id:a(".field-to-add-to-form").attr("data-attr-form-id")};return a.ajax({url:object.ajax_url,type:"POST",data:e,dataType:"html",success:function(d,e,f){a(".field-to-add-to-form").removeClass("field-to-add-to-form").addClass("not-available"),a(".add-field-to-editor").hide(),1>b?(a("#form-builder-container").html("").append(d),a(".clear-form-fields").show(),a(".clear-form-fields").next().show()):a("#form-builder-container").append(d),a(".field-"+c+"-position").val(parseInt(b+1))},error:function(a,b,c){alert(b+a.status+a.responseText+"...")},complete:function(b,c){a("#available-fields").children("li").addClass("available-form-field"),d.removeAttr("disabled").removeAttr("onclick").addClass("add-field-to-editor"),a(".add-field-to-editor").hide()}}),!1}),a("body").on("click",".add-interest-group-to-editor",function(){var b=a("#form-builder-container").find(".draggable").length,c=a(".group-to-add-to-form").attr("alt");a("#available-interest-groups").children("li").removeClass("available-interest-group");var d=a(this);d.attr("disabled","disabled").attr("onclick","return false;").removeClass("add-interest-group-to-editor");var e={action:"add_interest_group_to_form",field_name:a(".group-to-add-to-form").attr("data-attr-field-name"),group_id:c,field_type:a(".group-to-add-to-form").attr("data-attr-field-type"),list_id:a(".group-to-add-to-form").attr("data-attr-form-id")};return a.ajax({url:object.ajax_url,type:"POST",data:e,dataType:"html",success:function(c,d,e){a(".group-to-add-to-form").removeClass("group-to-add-to-form").addClass("not-available"),a(".add-interest-group-to-editor").hide(),1>b?(a("#form-builder-container").html("").append(c),a(".clear-form-fields").show(),a(".clear-form-fields").next().show()):a("#form-builder-container").append(c)},error:function(a,b,c){alert(b+a.status+a.responseText+"...")},complete:function(b,c){a("#available-interest-groups").children("li").addClass("available-interest-group"),d.removeAttr("disabled").removeAttr("onclick").addClass("add-interest-group-to-editor"),a(".add-interest-group-to-editor").hide()}}),!1}),a(".color-picker").each(function(){a(this).wpColorPicker()}),a("body").on("click",".expansion-section-title",function(){return a(this).next().stop().slideToggle(),a(this).find(".dashicons").toggleClass("dashicons-minus"),!1}),a("body").on("click",".available-form-field",function(){return a(this).hasClass("not-available")?!1:void(a(this).hasClass("field-to-add-to-form")?(a(this).removeClass("field-to-add-to-form"),a(".add-field-to-editor").stop().fadeOut()):(a(".field-to-add-to-form").removeClass("field-to-add-to-form"),a(this).toggleClass("field-to-add-to-form"),a(".add-field-to-editor").stop().fadeIn()))}),a("body").on("click",".available-interest-group",function(){return a(this).hasClass("not-available")?!1:void(a(this).hasClass("group-to-add-to-form")?(a(this).removeClass("group-to-add-to-form"),a(".add-interest-group-to-editor").stop().fadeOut()):(a(".group-to-add-to-form").removeClass("group-to-add-to-form"),a(this).toggleClass("group-to-add-to-form"),a(".add-interest-group-to-editor").stop().fadeIn()))}),a("body").on("click",".hidden_setting",function(){a(".hidden_setting").removeClass("selected_hidden_setting"),a(".selected_setting_triangle").remove(),a(this).addClass("selected_hidden_setting").append('<div class="selected_setting_triangle"></div>');var b=a(this).attr("data-attr-container");a(".hidden-setting-label").hide(),a("#"+b).show()}),a("body").on("click",".close-form-expansion",function(){return a(this).parents(".yikes-mc-settings-expansion-section").slideToggle().prev().find(".dashicons").toggleClass("dashicons-minus"),!1}),a("body").on("click",".mv_ig_list .nav-tab",function(){if(a(this).hasClass("nav-tab-active"))return!1;if(a(this).hasClass("nav-tab-disabled"))return!1;a(".mv_ig_list .nav-tab").removeClass("nav-tab-active"),a(".arrow-down").remove(),a(this).addClass("nav-tab-active").prepend('<div class="arrow-down"></div>'),a(".mv_ig_list .nav-tab").addClass("nav-tab-disabled");var b=a(this).attr("alt");return"merge-variables"==b?(a("#merge-variables-container").stop().animate({left:"0px"},function(){a(".mv_ig_list .nav-tab").removeClass("nav-tab-disabled")}),a("#interest-groups-container").stop().animate({left:"+=268px"},function(){a(".mv_ig_list .nav-tab").removeClass("nav-tab-disabled")})):(a("#merge-variables-container").stop().animate({left:"-=278px"},function(){a(".mv_ig_list .nav-tab").removeClass("nav-tab-disabled")}),a("#interest-groups-container").stop().animate({left:"-=268px"},function(){a(".mv_ig_list .nav-tab").removeClass("nav-tab-disabled")})),!1}),a("body").on("click",".clear-form-fields",function(){return confirm(object.bulk_delete_alert)&&a("#form-builder").find(".draggable").find(".expansion-section-title").each(function(){a(this).css("background","rgb(255, 134, 134)");var b=a(this).parents(".draggable").find(".remove-field").attr("alt");a(this).fadeOut("slow",function(){a("#available-fields").find('li[alt="'+b+'"]').removeClass("not-available"),a("#available-interest-groups").find('li[alt="'+b+'"]').removeClass("not-available"),a(this).remove(),a(".clear-form-fields").hide(),a(".clear-form-fields").next().hide(),a(".available-form-field").each(function(){a(this).removeClass("not-available")}),a("#form-builder-container").html('<h4 class="no-fields-assigned-notice non-draggable-yikes"><em>'+object.no_fields_assigned+"</em></h4>")})}),!1}),initialize_form_schedule_time_pickers()})}(jQuery);